---
- hosts: localhost
  vars:
    git_repos: [""]
    file_downloads:
      - src: https://raw.githubusercontent.com/Nani-o/ansible/lxd_network/lib/ansible/modules/cloud/lxd/lxd_network.py
        name: lxd_network.py
        path: "/etc/ansible/modules/"
  tasks:
    - name: Clone/Pull of repositories
      git:
        repo: "{{ item.src }}"
        dest: "{{ item.path }}/{{ item.name }}"
        clone: yes
        update: yes
      when: git_repos is defined
      with_items: "{{ git_repos }}"

    - name: Download files
      get_url:
        url: "{{ item.src }}"
        dest: "{{ item.path }}/{{ item.name }}"
      when: file_downloads is defined
      with_items: "{{ file_downloads }}"
